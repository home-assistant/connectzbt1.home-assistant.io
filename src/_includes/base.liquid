---
menu:
  - - - /
      - /new-zigbee/
      - /migrate-zigbee-zha-only/
      - /migrate-zigbee-zha/
      - /migrate-conbee/
      - /migrate-zigbee-backup/
      - /zigbee-migration-selection/
      - /nvme-selection-poe/
    - Getting started
  - - - /documentation/
      - /about-firmware-options/
      - /firmware-update/
      - /connectivity/
      - /about-multiprotocol/
      - /procedures/enable-multiprotocol/
      - /procedures/disable-multiprotocol/
      - /resources/
      - /videos/
    - Documentation
  - - - /faq/
    - FAQ
---

{% comment %}
<!-- prettier-ignore -->
{% endcomment %}{% capture full_title -%}
  {%- if title -%}
    {{ title }} – Home Assistant SkyConnect
  {%- else -%}
    Home Assistant SkyConnect
  {%- endif -%}
{%- endcapture %}
{% comment %}
<!-- prettier-unignore -->
{% endcomment %}

<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <title>{{ full_title }}</title>
    <meta name="description" content="{{ description }}" />
    <meta name="viewport" content="width=device-width" />
    <meta property="og:title" content="{{ full_title }}" />
    <link rel="stylesheet" href="/css/styles.css" />
  </head>
  <script
    src="https://kit.fontawesome.com/ee3aba475c.js"
    crossorigin="anonymous"
  ></script>
  <script>
// Function to create and insert the banner element
    function insertBanner() {
      // Check if #from-skyconnect is present in the URL
      if (window.location.hash === "#from-skyconnect") {
        // Create the banner element (a `<div>`)
        const banner = document.createElement("div");
        banner.id = "testBanner";  // Add an ID for potential styling
        banner.textContent = "This is a banner triggered by #from-skyconnect";

        // Style the banner (optional)
        banner.style.backgroundColor = "gray";
        banner.style.padding = "10px";
        banner.style.fontSize = "16px";

        // Find a suitable location to insert the banner (replace with your preference)
        const header = document.querySelector("header");
        if (header) {
          header.appendChild(banner);
        } else {
          console.warn("No header element found. Banner not inserted.");
        }
      }
    }

    // Function to handle link clicks with hash preservation
    function handleLinkClick(event) {
      const link = event.target;
      // Check if it's a link and not clicked within the link itself (e.g., on an image)
      if (link.tagName.toLowerCase() === "a" && !link.classList.contains("ignore-hash")) {
        // Get the original target URL
        let targetURL = link.href;

        // Check if form submission
        if (link.hasAttribute("form")) {
          // Assuming a hidden input named "hash" exists in the form
          const form = link.closest("form");
          const hiddenInput = form.querySelector("input[name='hash']");
          if (hiddenInput) {
            hiddenInput.value = "#from-skyconnect";
          } else {
            console.warn("Form missing hidden input named 'hash'");
          }
          return;  // Allow form submission to handle hash
        }

        // Modify URL to include #test if not already present
        if (!targetURL.includes("#from-skyconnect")) {
          targetURL += "#from-skyconnect";
        }

        // Prevent default behavior and navigate with modified URL
        event.preventDefault();
        window.location.href = targetURL;
      }
    }

    // Call the function on page load and handle hash changes
    window.addEventListener("load", insertBanner);
    window.addEventListener("hashchange", insertBanner);

    document.addEventListener("click", handleLinkClick);
</script>
  <body>
    <header></header>
    <div class="container">
      <div class="nav-bar">
      <a class="logo" href="/">
        <picture>
          <source srcset="/images/skyconnect-logo-white.png" media="(prefers-color-scheme: dark)">
          <img src="/images/skyconnect-logo.png" alt="Home Assistant SkyConnect" />
        </picture>
      </a>
        <ul>
          {% for item in menu %}
            <li>
              <a class="{% if item[0] contains page.url %}active{% endif %}" href="{{ item[0][0] }}">{{ item[1] }}</a>
            </li>
          {% endfor %}
          <li>
            <a
              class="buy-button"
              target="_blank"
              href="https://www.home-assistant.io/skyconnect">Buy</a>
          </li>
        </ul>
      </div>
    </div>

    <div class="content">{{ content }}</div>

    <div class="container">
      <div class="footer">
        <div>
          Home&nbsp;Assistant SkyConnect &nbsp; – &nbsp;
          <a href="mailto:hello@home-assistant.io">Support</a>
          &nbsp; – &nbsp;
          <a href="https://www.github.com/home-assistant" target="_blank">GitHub</a>
          &nbsp; – &nbsp;
          <a href="https://discord.com/invite/home-assistant" target="_blank"
            >Discord#zigbee</a>
          &nbsp; – &nbsp;
          <a href="https://www.home-assistant.io/" target="_blank"
            >home-assistant.io</a
          >
          &nbsp; – &nbsp;
          <a href="https://www.nabucasa.com/" target="_blank"
            >Nabu Casa</a
          >
        </div>
      </div>
    </div>
  </body>
</html>

